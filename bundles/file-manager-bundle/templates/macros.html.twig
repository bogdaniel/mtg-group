{# {% import '@ZenchronFile/macros.html.twig' as rankyMedia %} #}
{#
<style>
    .ranky-media-responsive-image{
        max-inline-size: 100%;
        block-size: auto;
    }
</style>
#}
{% macro reponsive_image(mediaResponse, loading = "lazy") %}
    {# @var mediaResponse \Ranky\FileBundle\Application\DataTransformer\Response\MediaResponse #}
    {# @var thumbnail \Ranky\FileBundle\Application\DataTransformer\Response\ThumbnailResponse #}
    {% if mediaResponse %}
        {% set srcset = '' %}
        {% set sizes = '' %}
        {% set srcset = mediaResponse.file.url ~ ' ' ~ mediaResponse.dimension.width ~ 'w,' %}
        {% for thumbnail in mediaResponse.thumbnails %}
            {% set srcset = srcset ~ thumbnail.url ~ ' ' ~ thumbnail.dimension.width ~ 'w'~(loop.last == false ? ',' : '') %}
        {% endfor %}
        <img loading="{{ loading }}"
             decoding="async"
             class="ranky-media-responsive-image"
             width="{{ mediaResponse.dimension.width }}"
             height="{{ mediaResponse.dimension.height }}"
             srcset="{{ srcset }}"
             src="{{ mediaResponse.file.url }}"
             title="{{ mediaResponse.description.title }}"
             alt="{{ mediaResponse.description.alt }}"/>
    {% endif %}
{% endmacro %}

